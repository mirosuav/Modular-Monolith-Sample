
@RootAddress=https://localhost:7179


###

# CREATE USER

POST {{RootAddress}}/users
Accept: application/json
Content-Type: application/json

{
  "email":"mirek@test.com",
  "password":"Pass@word1"
}

###

# LOGIN

POST {{RootAddress}}/users/login
Accept: application/json
Content-Type: application/json

{
  "email":"mirek@test.com",
  "password":"Pass@word1"
}

###

@token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJFbWFpbCI6Im1pcmVrQHRlc3QuY29tIiwiSWQiOiIwcjM4YjlveWFhNno2eHZ4cm5ndG5wdGNvIiwic2lkIjoiMDY2N2IyOTctN2I1NC03M2EyLTgwMDAtYTYzYjgyMzMwZjU4IiwiZXhwIjoxNzE5MzU0Nzc1LCJpYXQiOjE3MTkzNDc1NzUsIm5iZiI6MTcxOTM0NzU3NX0.p9KV8kUUEL1g32GkaWGGajYClOW5CcOEduABVAqcxL8

# GET ALL BOOKS

GET {{RootAddress}}/books
Accept: application/json
Authorization: Bearer {{token}}

###

@BookID=e4fa19bf-6981-4e50-a542-7c9b26e9ec31
GET {{RootAddress}}/books/{{BookID}}
Accept: application/json
Authorization: Bearer {{token}}

###

POST {{RootAddress}}/books
Accept: application/json
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "title": "Modular Monoliths - Getting Started",
  "author": "Steve Smith",
  "price": 29.99
}

###

# Test the location header
GET {{RootAddress}}/books/b89f6cd7-4693-457b-9009-02205dbbfe45
Accept: application/json
Authorization: Bearer {{token}}

###

DELETE {{RootAddress}}/books/0667899b-1c4b-72eb-8000-d6b033eb8703
Accept: application/json
Authorization: Bearer {{token}}

###

POST {{RootAddress}}/books/066789a2-919f-7a94-8000-07218a775351/pricehistory
Accept: application/json
Content-Type: application/json
Authorization: Bearer {{token}}

 19.99


### Add item to cart
POST {{RootAddress}}/cart
Accept: text/plain
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "bookId":"e4fa19bf-6981-4e50-a542-7c9b26e9ec31",
  "quantity":5
}

###

# List items in cart
GET {{RootAddress}}/cart
Accept: application/json
Authorization: Bearer {{token}}

###

# List All Orders
GET {{RootAddress}}/orders
Accept: application/json
Authorization: Bearer {{token}}

###

# Checkout Cart
POST {{RootAddress}}/cart/checkout
Accept: application/json
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "shippingAddressId":"066789ba-6d0b-7b84-8000-3d0cdf035b5b",
  "billingAddressId":"066789ba-6d0b-7b84-8000-3d0cdf035b5b"
}

###

# List Addresses

GET {{RootAddress}}/users/addresses
Accept: application/json
Authorization: Bearer {{token}}

###

# Add Address to User
POST {{RootAddress}}/users/addresses
Accept: application/json
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "street1": "2 Main St.",
  "street2": "Number 722",
  "city":"Anytown",
  "state":"OH",
  "postalCode":"12345-6789",
  "country":"USA"
}

###

# FLUSH CACHE

POST {{RootAddress}}/flushcache
Accept: application/json
Content-Type: application/json

{
}

###

# LIST EMAILS

GET {{RootAddress}}/emails
Accept: application/json
Authorization: Bearer {{token}}

###

# TOP SALES 1 - REACH IN REPORTING

GET {{RootAddress}}/topsales?month=6&year=2024
Accept: application/json
Authorization: Bearer {{token}}

###

# TOP SALES 2 - EVENT INGESTION CUSTOM DB

GET {{RootAddress}}/topsales2?month=6&year=2024
Accept: application/json
Authorization: Bearer {{token}}

###